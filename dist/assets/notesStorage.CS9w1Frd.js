let w=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,o)=>(o&=63,o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o>62?t+="-":t+="_",t),"");const n="blinknote-items",a=()=>{var e;return typeof chrome<"u"&&!!((e=chrome.storage)!=null&&e.local)},l=()=>{if(typeof window>"u")return[];const e=window.localStorage.getItem(n);return e?JSON.parse(e):[]},d=e=>{typeof window>"u"||window.localStorage.setItem(n,JSON.stringify(e))},s=async()=>a()?new Promise(e=>{chrome.storage.local.get([n],t=>{e(t[n]??[])})}):l(),c=async e=>{if(a())return new Promise(t=>{chrome.storage.local.set({[n]:e},()=>t())});d(e)},u=async e=>{const t=await s(),o=[e,...t].sort((r,i)=>i.createdAt-r.createdAt);return await c(o),o},f=async e=>{const o=(await s()).filter(r=>r.id!==e);return await c(o),o};export{n as S,u as a,f as d,w as n,s as r};
