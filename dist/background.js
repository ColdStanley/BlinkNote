import{b as i,a as o}from"./assets/notesStorage.BlQxDQKo.js";const a=async(e,t,n)=>{await i({id:o(),type:e,content:t,createdAt:Date.now(),sourceUrl:n})};chrome.runtime.onInstalled.addListener(async()=>{await chrome.sidePanel.setOptions({path:"sidepanel.html"}),await chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}),chrome.contextMenus.removeAll(()=>{chrome.contextMenus.create({id:"blinknote-text",title:"Add selected text to BlinkNote",contexts:["selection"]}),chrome.contextMenus.create({id:"blinknote-link",title:"Add page link to BlinkNote",contexts:["page"]}),chrome.contextMenus.create({id:"blinknote-image",title:"Add image to BlinkNote",contexts:["image"]})})});chrome.action.onClicked.addListener(async e=>{e.id&&await chrome.sidePanel.open({tabId:e.id})});chrome.contextMenus.onClicked.addListener(async(e,t)=>{const n=e.pageUrl??(t==null?void 0:t.url)??void 0;switch(e.menuItemId){case"blinknote-text":e.selectionText&&await a("text",e.selectionText,n);break;case"blinknote-link":e.pageUrl&&await a("link",e.pageUrl,n);break;case"blinknote-image":e.srcUrl&&await a("image",e.srcUrl,n);break}});
